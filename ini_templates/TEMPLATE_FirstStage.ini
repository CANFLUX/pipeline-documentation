% Template script for new user creating First Stage INI file from scratch
%       File created:      25 September 2024, Rosie Howard
%              Edits:  
%       
% Notes: (add relevant notes/comments for your site)
%
%

%--> Insert the following parameters
Site_name = ''
SiteID = ''
Difference_GMT_to_local_time =  	% in hours (GMT - local time)
Timezone = 							% hours
% if Timezone == 0 then the database is in UTC/GMT 
% if Timezone == Difference_GMT_to_local_time then the database is in ST
% having the offset positive when it should be negative (after all PST = GMT - 8)
% is a legacy issue that (hopefully) will be sorted out at some point in the future.

%---------------------------------------
% Global variables (instrument-specific)
%---------------------------------------
% The instrument traces will all need to have the same
% instrumentType field 'LI7200', 'LI7700'...
% and come from the same software (EddyPro)

% If using LI7200 with EddyPro_LI7200_FirstStage_include file:
globalVars.Instrument.IRGA.Enable						= 1		% Required variable 0/1
globalVars.Instrument.IRGA.instrument					= 'LI-7200'	% Edit if using LI7500
globalVars.Instrument.IRGA.instrumentSN					= ''	
globalVars.Instrument.IRGA.inputFileName_dates			= [datenum(1900,1,1) datenum(2999,12,31)]
%--> Example for instrumentSN and inputFileName_dates 
%globalVars.Instrument.IRGA.instrumentSN				= '72H-0551';
%globalVars.Instrument.IRGA.inputFileName_dates			= [datenum(2022,1,1) datenum(2999,1,1)]

% If using LI7700 with EddyPro_LI7700_FirstStage_include file:
globalVars.Instrument.LI7700.Enable						= 1		% Required variable 0/1
globalVars.Instrument.LI7700.instrumentSN				= ''
globalVars.Instrument.LI7700.inputFileName_dates		=  [datenum(1900,1,1) datenum(2999,12,31)]

globalVars.Instrument.Anemometer.Enable					= 1 		% Required variable 0/1	
globalVars.Instrument.Anemometer.instrument             = 'CSAT3'
globalVars.Instrument.Anemometer.instrumentSN           = ''
globalVars.Instrument.Anemometer.inputFileName_dates    = [datenum(1900,1,1) datenum(2999,12,31)]

globalVars.Instrument.EC.Enable                         = 1             % Required variable 0/1
globalVars.Instrument.EC.instrumentSN                   = [globalVars.Instrument.Anemometer.instrumentSN ' & ' globalVars.Instrument.IRGA.instrumentSN ' & ' globalVars.Instrument.LI7700.instrumentSN]
globalVars.Instrument.EC.inputFileName_dates            = [datenum(1900,1,1) datenum(2999,12,31)]

globalVars.Instrument.otherTraces.Enable                = 1             % Required variable 0/1
globalVars.Instrument.otherTraces.inputFileName_dates   = [datenum(1900,1,1) datenum(2999,12,31)]

%------------------------------------------------------------------------------------
% Global variable specification (trace-specific)
%------------------------------------------------------------------------------------
%--> Radiation sensor information: 
%--> If using CNR4 with RAD_FirstStage_include file, add inputFileNames etc., for example:
%globalVars.Trace.SW_IN_1_1_1.inputFileName 			 = {'MET_CNR4_SWi_Avg'} 		

globalVars.Trace.SW_IN_1_1_1.inputFileName 			    = {''} 
globalVars.Trace.SW_IN_1_1_1.inputFileName_dates 	    = [datenum(1900,1,1) datenum(2999,12,31)] 
globalVars.Trace.SW_IN_1_1_1.instrument 			    = 'CNR4'
globalVars.Trace.SW_IN_1_1_1.instrumentSN 			    = ''

globalVars.Trace.SW_OUT_1_1_1.inputFileName 		    = {''} 
globalVars.Trace.SW_OUT_1_1_1.inputFileName_dates 	    = globalVars.Trace.SW_IN_1_1_1.inputFileName_dates
globalVars.Trace.SW_OUT_1_1_1.instrument 			    = globalVars.Trace.SW_IN_1_1_1.instrument
globalVars.Trace.SW_OUT_1_1_1.instrumentSN 			    = globalVars.Trace.SW_IN_1_1_1.instrumentSN

globalVars.Trace.LW_IN_1_1_1.inputFileName 			    = {''} 
globalVars.Trace.LW_IN_1_1_1.inputFileName_dates 	    = globalVars.Trace.SW_IN_1_1_1.inputFileName_dates
globalVars.Trace.LW_IN_1_1_1.instrument 			    = globalVars.Trace.SW_IN_1_1_1.instrument
globalVars.Trace.LW_IN_1_1_1.instrumentSN 			    = globalVars.Trace.SW_IN_1_1_1.instrumentSN

globalVars.Trace.LW_OUT_1_1_1.inputFileName 		    = {''} 
globalVars.Trace.LW_OUT_1_1_1.inputFileName_dates 	    = globalVars.Trace.SW_IN_1_1_1.inputFileName_dates
globalVars.Trace.LW_OUT_1_1_1.instrument 			    = globalVars.Trace.SW_IN_1_1_1.instrument
globalVars.Trace.LW_OUT_1_1_1.instrumentSN 			    = globalVars.Trace.SW_IN_1_1_1.instrumentSN

globalVars.Trace.NETRAD_1_1_1.inputFileName 		    = {''} 
globalVars.Trace.NETRAD_1_1_1.inputFileName_dates 	    = globalVars.Trace.SW_IN_1_1_1.inputFileName_dates
globalVars.Trace.NETRAD_1_1_1.instrument 			    = globalVars.Trace.SW_IN_1_1_1.instrument
globalVars.Trace.NETRAD_1_1_1.instrumentSN 			    = globalVars.Trace.SW_IN_1_1_1.instrumentSN

globalVars.Trace.ALB_1_1_1.inputFileName 			    = {''} 
globalVars.Trace.ALB_1_1_1.inputFileName_dates 		    = globalVars.Trace.SW_IN_1_1_1.inputFileName_dates
globalVars.Trace.ALB_1_1_1.instrument 				    = globalVars.Trace.SW_IN_1_1_1.instrument
globalVars.Trace.ALB_1_1_1.instrumentSN 			    = globalVars.Trace.SW_IN_1_1_1.instrumentSN

globalVars.Trace.PPFD_IN_1_1_1.inputFileName            = {''}
globalVars.Trace.PPFD_IN_1_1_1.inputFileName_dates      = [datenum(1900,1,1) datenum(2999,12,31)] 
globalVars.Trace.PPFD_IN_1_1_1.instrument               = '' 
globalVars.Trace.PPFD_IN_1_1_1.instrumentSN             = ''

globalVars.Trace.PPFD_OUT_1_1_1.inputFileName           = {''}
globalVars.Trace.PPFD_OUT_1_1_1.inputFileName_dates     = [datenum(1900,1,1) datenum(2999,12,31)] 
globalVars.Trace.PPFD_OUT_1_1_1.instrument              = '' 
%globalVars.Trace.PPFD_OUT_1_1_1.instrumentSN           = ''


%--> Calibrations, e.g.:
%globalVars.Trace.T_SONIC.loggedCalibration              = [1       0 datenum(2022,1,1) datenum(2999,1,1)] % Conversion K to C
%globalVars.Trace.T_SONIC.currentCalibration             = [1 -273.15 datenum(2022,1,1) datenum(2999,1,1)]    

%--> To avoid errors due to missing input files 
dateRangeNoData = [datenum(1900,1,1) datenum(1900,12,31)]
globalVars.Trace.fakeVariable.inputFileName_dates       = dateRangeNoData


% Cleaning and Service Flags 

% Load time vector clean_tv
[Trace]
	variableName = 'clean_tv'
	title = 'Testing'
	inputFileName = {'clean_tv'}
	inputFileName_dates = []
	measurementType = 'Flux'
	units = ''
	instrument = ''
        instrumentType = ''
	instrumentSN = []
        loggedCalibration = []
        currentCalibration = []
	comments = 'Load time vector so that it becomes available for Evaluate calculations'
	minMax = [-Inf, Inf]
	zeroPt = [-9999]
	dependent = ''
[End]

%------------------------------------------------------------------------------------
%--> Insert met variables here
%------------------------------------------------------------------------------------

% Air temperature and RH

[Trace]
	variableName = 'TA_1_1_1'  
	title = 'Air temperature at ...' 
	inputFileName = {''} 
	inputFileName_dates = [datenum(1900,1,1) datenum(2999,12,31)] 
	measurementType = 'Met' 
	units = 'Â°C' 
	instrument = ''
	instrumentSN = ''
	calibrationDates = ''
        loggedCalibration = '' 
        currentCalibration = '' 
	comments = ''
	minMax = [-20,50] 	% edit for Ameriflux guidelines
	zeroPt = [-9999] 
	dependent       = '' 
[End]

[Trace]
	variableName = 'RH_1_1_1'  
	title = 'Relative humidity at ...' 
	inputFileName = {''} 
	inputFileName_dates = [datenum(1900,1,1) datenum(2999,12,31)] 
	measurementType = 'Met' 
	units = '%' 
	instrument = ''
	instrumentSN = ''
	calibrationDates = ''
        loggedCalibration = '' 
        currentCalibration = '' 
	comments = '' 
	minMax = [0,110]	% edit for Ameriflux guidelines
	clamped_minMax = [0,100] 
	zeroPt = [-9999] 
	dependent       = '' 
[End]

% Pressure

[Trace]
	variableName = 'PA_1_1_1'  
	title = 'air pressure by ...' 
	inputFileName = {''} 
	inputFileName_dates = [datenum(1900,1,1) datenum(2999,12,31)] 
	measurementType = 'Met' 
	units = 'kPa' 
	instrument = '' 
	instrumentSN = ''
	calibrationDates = ''
        loggedCalibration = '' 
        currentCalibration = '' 
	comments = '' 
	minMax = [90,110]	% edit for Ameriflux guidelines
	zeroPt = [-9999] 
	dependent       = '' 
[End]

% Precipitation

[Trace]
	variableName = 'P_1_1_1'  
	title = 'precipitation at ...' 
	inputFileName = {''} 
	inputFileName_dates = [datenum(1900,1,1) datenum(2999,12,31)] 
	measurementType = 'Met' 
	units = 'mm' 
	instrument = '' 
	instrumentSN = ''
	calibrationDates = ''
        loggedCalibration = '' 
        currentCalibration = '' 
	comments = '' 
	minMax = [0,20]		% edit for Ameriflux guidelines
	zeroPt = [-9999] 
[End]

% Wind speed and direction

[Trace]
	variableName = 'WS_1_1_1'  
	title = 'wind speed by ...' 
	inputFileName = {''} 
	inputFileName_dates = [datenum(1900,1,1) datenum(2999,12,31)] 
	measurementType = 'Met' 
	units = 'm/s' 
	instrument = '' 
	instrumentSN = ''
	calibrationDates = ''
        loggedCalibration = ''  
        currentCalibration = '' 
	comments = '' 
	minMax = [-20,20] 	% edit for Ameriflux guidelines
	zeroPt = [-9999] 
[End]

[Trace]
	variableName = 'WD_1_1_1'  
	title = 'wind direction by ...' 
	inputFileName = {''} 
	inputFileName_dates = [datenum(1900,1,1) datenum(2999,12,31)] 
	measurementType = 'Met' 
	units = 'degrees' 
	instrument = '' 
	instrumentSN = ''
	calibrationDates = ''
        loggedCalibration = ''  
        currentCalibration = '' 
	comments = '' 
	minMax = [0,360] 
	zeroPt = [-9999] 
[End]


% Soil temperature, heat flux, and moisture


% Radiation
% Any radiation variables not in RAD_FirstStage_include.ini (if using)


% Water parameters


%------------------------------------------------------------------------------------
% Call #include ini files
%------------------------------------------------------------------------------------
%--> Must be at end of .ini file
%--> Comment out include files that are not needed
%#include EddyPro_Common_FirstStage_include.ini
%#include EddyPro_LI7200_FirstStage_include.ini
%#include EddyPro_LI7500_FirstStage_include.ini
%#include EddyPro_LI7700_FirstStage_include.ini
%#include RAD_FirstStage_include.ini

